{% load staticfiles %}<!doctype html>
<html>
    <head>
        <title>YTTS</title>
        {% if subtitles %}
        <script>
            var view_init = {
                subtitles: {{ subtitles.subtitles|safe }},
                isDefault: {{ subtitles.is_default_version|yesno:"true,false" }},
                version: "{{ subtitles.version }}",
                versions: {{ all_versions|safe }},
                video: "{{ video_id }}"
            };
        </script>
        <script src="{% static "ytts/axios.min.js" %}" ></script>
        <script src="{% static "ytts/bundle.js" %}" defer></script>
        {% endif %}
        <link rel="stylesheet" href="{% static "ytts/main.css" %}" />
    </head>
    <body>
        <div id="yttsApp">
       
            <h1>Timestamper</h1>
        
            <div id="subtitlesVersions">
                
                <ytts-twostepsselection 
                :selected-option="loadedVersion" 
                :available-options="availableVersions" 
                v-on:select-option="$store.dispatch('loadSubtitles', $event)">
                    <span slot="selected-label-text">Loaded version</span>
                    <span slot="available-label-text">Available versions</span>
                    <span slot="select-button-text">Load version</span>
                </ytts-twostepsselection>
                <span class="warning">If you decide to load another version the current work will be lost</span>

                <ytts-versioncreator></ytts-versioncreator>
            </div>

            <div id="ytplayer" data-initvideoid="{{ video_id }}"></div>

            <div id="timestampBar">
                <div id="timestampBarNow"></div>
            </div>

            <div id="activeLine"></div>

            <ytts-subtitles></ytts-subtitles>
            
        </div>
        
    </body>
</html>
